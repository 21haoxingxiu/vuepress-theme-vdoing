---
title: useEffect和useLayoutEffect的不同
date: 2021-03-26 09:42:30
permalink: /pages/7dc1f7/
categories:
  - 技术
  - React文章
  - 前端面试宝典之React篇
tags:
  - 
---
### useEffect 与 useLayoutEffect 的区别在哪里

#### 它们的共同点很简单，底层的函数签名是完全一致的，都是调用的 mountEffectImpl，在使用上也没什么差异，基本可以直接替换，也都是用于处理副作用

#### 那不同点就很大了，useEffect 在 React 的渲染过程中是被异步调用的，用于绝大多数场景，而 LayoutEffect 会在所有的 DOM 变更之后同步调用，主要用于处理 DOM 操作、调整样式、避免页面闪烁等问题。也正因为是同步处理，所以需要避免在 LayoutEffect 做计算量较大的耗时任务从而造成阻塞。

#### 在未来的趋势上，两个 API 是会长期共存的，暂时没有删减合并的计划，需要开发者根据场景去自行选择。React 团队的建议非常实用，如果实在分不清，先用 useEffect，一般问题不大；如果页面有异常，再直接替换为 useLayoutEffect 即可。


![](https://raw.githubusercontent.com/21haoxingxiu/picture/master/blog/20210326094628.png)