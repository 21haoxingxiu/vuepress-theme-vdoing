---
title:  CSS 整块文本溢出省略方案
date: 2021-03-09 11:31:44
permalink: /pages/945279/
categories:
  - 技术
  - CSS
tags:
  - 
---


## 文本超长打点


### 对于单行文本，使用单行省略：

```css
{
    width: 200px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
```

### 多行显示不全省略号

```css
p {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 6;
  overflow: hidden;
}
```

### iOS 不支持整块超长溢出打点省略

然而，上述方案并非完美的。经过实测，上述方案在 iOS 和 Safari 下，没能生效，表现为这样：

::: center
![](https://raw.githubusercontent.com/21haoxingxiu/picture/master/blog/640)
:::

查看规范 - CSS Basic User Interface Module Level 3 - text-overflow[3]，究其原因，在于 text-overflow 只能对内联元素进行打点省略。（Chrome 对此可能做了一些优化，所以上述非 iOS 和 Safari 的场景是正常的）

所以猜测是因为经过了 display: inline-block 的转化后，已经不再是严格意义上的内联元素了。

### 解决方案，使用多行省略替代单行省略

```css
.person-card__desc {
    width: 200px;
    white-space: normal;
    overflow : hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
}
.person-card__desc span {
    display: inline-block;
}
```

::: center
![](https://raw.githubusercontent.com/21haoxingxiu/picture/master/blog/20210322134336.png)
:::