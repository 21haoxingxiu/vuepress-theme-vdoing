### 关于javascript中的toString()和valueOf()


- toString( ):返回对象的字符串表示。

- valueOf( ):返回对象的字符串、数值或布尔值表示。

- Symbol.toPrimitive
- >Symbol.toPrimitive 是一个内置的 Symbol 值，它是作为对象的函数值属性存在的，当一个对象转换为对应的原始值时，会调用此函数。

```js
const object1 = {
  [Symbol.toPrimitive](hint) {
    if (hint === 'number') {
      return 42;
    }
    return null;
  }
};

console.log(+object1);
// expected output: 42
```

#### 其实操作符单独对对象进行转换的时候，都是先调用 Symblo.toPrimitive  valueOf，如果valueOf 返回的不是基本类型，会再调用 toString。

```js
let ab = {
    valueOf() {
        return 0;
    },
    toString() {
        return '1';
    },
    [Symbol.toPrimitive]() {
        return 2;
    }
}
console.log(1+ab);
console.log('1'+ab);
```

#### 可以看到，Symbol.toPrimitive方法在转换基本类型的时候优先级最高。

### 如何让 (a == 1 && a == 2 && a == 3) 的值为true？

#### valueOf

```js
var i = 1
Number.prototype.valueOf = function() {
    return i++
}
var a = new Number(1)
if (a == 1 && a == 2 && a == 3) {
    console.log('here')
}
```

#### Symbol.toPrimitive

```js
{[Symbol.toPrimitive]: ((i) => () => ++i) (0)}
```

#### ???
```js
var aﾠ = 1;
var a = 2;
var ﾠa = 3;
console.log(aﾠ==1 && a== 2 &&ﾠa==3)
```

#### toString

```js
const a = {
i: 1,
toString: function () {
  return a.i++;
  }
}
if(a == 1 && a == 2 && a == 3) {
  console.log('Hello World!');
}
```


####  Object.defineProperty

```js
var value = 0;
Object.defineProperty(window,'a',{
get:function(){
return this.value += 1;
}
})
console.log(a== 1 && a==2 && a==3);//true
```